---
author: "Jay Hesselberth"
title: "Integrate search into a pkgdown website"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{pkgdown-search}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

pkgdown websites can integrate search capability using [Docsearch](https://community.algolia.com/docsearch/) from Algolia. Docsearch is a powerful search engine that is free for documentation websites. There are only a few steps needed to enable Docsearch on a pkgdown website.

1. **Contact Docsearch to index your site**. Once you have published your pkgdown website, submit the [pkgdown site URL to Docsearch](https://community.algolia.com/docsearch/). Docsearch will contact you via e-mail to confirm you are the website owner.

Docsearch will setup a crawler configuration that indexes your site every 24 hours. For example, this [crawler config](https://github.com/algolia/docsearch-configs/blob/master/configs/valr.json) indexes the search capability for [valr](https://rnabioco.github.io/valr). If you want to optimize your search, they will accept pull requests to the configuration that incorporate [additional options](https://github.com/algolia/docsearch-configs#introduction) to fine tune the scraping.

1. **Add Docsearch paramters to your site**. Docsearch will e-mail you some JavaScript to integrate into your website.

```js
<script type="text/javascript">
  docsearch({ 
    apiKey: 'API_KEY',  // a long hex string
    indexName: 'INDEX_NAME', 
    inputSelector: '### REPLACE ME ####', 
    debug: false // Set debug to true if you want to inspect the dropdown 
}); 
```

Put the value of the `apiKey` and `indexName` parameters into your site `_pkgdown.yml`:

```yaml
template:
  params:
    docsearch:
      api_key: API_KEY
      index_name: INDEX_NAME
```

When you re-build your site using this new configuration, you should have a functional search bar in the navbar.
