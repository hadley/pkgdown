## Home page

The home page (`index.html`) is generated from `pkgdown/index.md`,
`index.md`, or `README.md`, in that order. Most packages will use `README.md`
because that's also displayed by GitHub and CRAN. Use `index.md` if you want
your package website to look different to your README, and use
`_pkgdown/index.md` if you don't want that file to live in your package
root directory.

If you use `index.Rmd` or `README.Rmd` it's your responsibility to knit
the document to create the corresponding `.md`. pkgdown does not do this
for you because it only touches files in the `doc/` directory.

## Images and figures

If you want to include images in your `README.md`, they must be stored
somewhere in the package so that they can be displayed on the CRAN website.
The best place to put them is `man/figures`. If you are generating figures
with R Markdown, make sure you set up `fig.path` as followed:

```
knitr::opts_chunk$set(
  fig.path = "man/figures/"
)
```

This should usually go in a chunk with `include = FALSE`.

````
```{r chunk-name, include=FALSE}`r ''`
knitr::opts_chunk$set(
  fig.path = "man/figures/"
)
```
````


## Package logo

If you have a package logo, you can include it at the top of your README in a
level-one heading:

```
## pkgdown <img src="man/figures/logo.png" align="right" />
```

[init_site()] will also automatically create a favicon set from your package
logo.

## YAML config - home

To tweak the home page, you need a section of the configuration file called `home`.

### Page title and description

By default, the page title and description are extracted automatically
from the `Title` and `Description` fields `DESCRIPTION` (stripping
single quotes off quoted words). CRAN ensures that these fields don't contain
phrases like "R package" because that's obvious on CRAN. To make your
package more findable on search engines, it's good practice to override the
`title` and `description`, thinking about what people might search for:

```
home:
  title: An R package for pool-noodle discovery
  description: >
    Do you love R? Do you love pool-noodles? If so, you might enjoy
    using this package to automatically discover and add pool-noodles
    to your growing collection.
```

(Note the use of YAML's `>` i.e. "YAML pipes"; 
this is a convenient way of writing paragraphs
of text.)

### README header

READMEs usually start with an `<h1>` containing the package name. If
that feels duplicative with the package name in the navbar you can
remove it with `strip_header: true`:

```
home:
  strip_header: true
```

### Other homepage tweaks

See the subsections about the sidebar and authors for more tweaks via the pkgdown
configuration file.

## Sidebar

By default, the sidebar automatically populated with the following elements,
in this order.
To understand their creation, read on; to tweak the content of the navbar, 
see the "YAML config - sidebar" section.


```{r echo=FALSE}
# With includeRmd verbatim code chunks' output lines start with ##
# Therefore hack-ish way to make this work. :-)
get_fields <- function(){
  fields <- pkgdown:::default_sidebar_structure()
format_one <- function(field) {
  sprintf("* `%s`: %s.", field$name, field$definition)
}

paste0(
  purrr::map_chr(
    split(fields, seq_len(nrow(fields))),
    format_one
  ),
  collapse = "\n\n"
)

}

```

`r get_fields()`

### Sources of sidebar information

*   Development status badges found in `README.md`/`index.md`. pkgdown
    identifies badges in three ways:

    * Any image-containing links between `<!-- badges: start -->` and
      `<!-- badges: end -->`, as e.g. created by `usethis::use_readme_md()`
      or `usethis::use_readme_rmd()`.

    * Any image-containing links within `<div id="badges"></div>`.

    * Within the first paragraph, if it only contains image-containing links.

*   The sidebar links are automatically generated by inspecting the `URL` and
    `BugReports` fields of the `DESCRIPTION`.  
    If your package is developed on GitHub,
    you can use `usethis::use_github_links()` to populate these fields.

*   Licensing information if `LICENSE`/`LICENCE` or `LICENSE.md`/`LICENCE.md`
    files are present.

*   Community information is linked in the side bar using the
    `.github/CONTRIBUTING.md` and `.github/CODE_OF_CONDUCT.md` files,
    if present.

*   Extra markdown files in the base directory or in `.github/` are copied
    to `docs/` and converted to HTML.

*   Citation information from a `inst/CITATION` file is linked in the side bar
    to the [authors page](https://testthat.r-lib.org/authors.html).
    
*   Author information from `DESCRIPTION`, see the dedicated section.



### YAML config - sidebar

You can add additional links with a
subsection called `links`, which should contain a list of `text` + `href`
elements:

```yaml
home:
  links:
  - text: Link text
    href: http://website.com
```

You can change the order of sidebar components:
`links`, `license` (with an "s"), `community`, `citation`,
`authors`, `dev` (badges); you can add a README table of contents `toc`,
you can add custom components.
The example below creates a sidebar whose only components will be the
authors section, a custom section, a table of contents for the README
and a Dev Status section if there are badges.
The `text` will be treated as Markdown.

```
home:
  sidebar:
    structure: [authors, custom, toc, dev]
    components:
      custom:
        title: Funding
        text: We are *grateful* for funding!
```

You can provide a ready-made sidebar HTML:

```
home:
  sidebar:
    html: path-to-sidebar.html
```

Finally, you can completely remove the sidebar.

```
home:
  sidebar: FALSE
```

## Authors

*   Author ORCID identification numbers in the `DESCRIPTION` are linked under
    "Developers" using the ORCID logo:

    ```
    Authors@R: c(
        person("Hadley", "Wickham", , "hadley@rstudio.com", role = c("aut", "cre"),
          comment = c(ORCID = "0000-0003-4757-117X")
        ),
        person("Jay", "Hesselberth", role = "aut",
          comment = c(ORCID = "0000-0002-6299-179X")
        )
      )
    ```


### YAML config - authors

The "developers" list is populated by the maintainer ("cre"), authors
("aut"), and funder ("fnd") from the `DESCRIPTION`. You can modify their
display on the home page by adding a subsection for `authors`. Each entry
in `authors` should be named with the author's name (matching `DESCRIPTION`)
and can contain `href` and/or `html` fields:

* If `href` is provided, the author's name will be linked to this url.
* If `html` is provided, it will be shown instead of the author's name.
  This is particularly useful if you want to display the logo of a corporate
  sponsor.

```
authors:
  firstname lastname:
    href: "http://name-website.com"
    html: "<img src='name-picture.png' height=24>"
```
